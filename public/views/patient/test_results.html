<div class="margin-top" 
    ng-controller="ctrlr_test_results">

    <div 
        ng-show="view.isDoctor" 
        class="col-sm-4">

        <button 
            type="button" 
            ng-hide="view.showNewTestResult"
            class="btn btn-primary btn-block"
            ng-click="view.toggleNewTestResult(model.test_result)">
            Add New Test Result
        </button>

        <div ng-show="view.showNewTestResult">
            <b>New Test Result</b>

            <form 
                novalidate class="simple-form" name="patient_test_results_form"
                ng-show="model.test_result">
                <div class="well">
                    <!--
                    <style type="text/css">
                        .simple-form {
                        width: 260px;
                        font-size: 16px;
                        line-height: 1;
                        height: 34px;}
                    </style> 
                    -->
                    <label>Red Blood Cell Count</label>
                    <input						
                        placeholder="trillion cells/L"
                        class="form-control"
                        name="red_blood_cell_count"
                        ng-model="model.test_result.red_blood_cell_count"
                        />
                    <br/>
                    <label>Hemoglobin</label>
                    <input
                        placeholder="grams/dL"
                        class="form-control"
                        name="hemoglobin"
                        ng-model="model.test_result.hemoglobin"
                        />
                    <br/>
                    <label>Hematocrit</label>
                    <input
                        placeholder="percentage"
                        class="form-control"
                        name="hemotocrit"
                        ng-model="model.test_result.hemotocrit"
                        />
                    <br/>
                    <label>White Blood Cell Count</label>
                    <input
                        placeholder="billion cells/L"
                        class="form-control"
                        name="white_blood_cell_count"
                        ng-model="model.test_result.white_blood_cell_count"
                        />
                    <br/>
                    <label>Platelet Count</label>
                    <input
                        placeholder="billion/L"
                        class="form-control"
                        name="platelet_count"
                        ng-model="model.test_result.platelet_count"
                        />
                    <br/>
                    <label>Date</label>
                    <input
                        placeholder="DD/MM/YYYY"
                        class="form-control"
                        name="date"
                        ng-model="model.test_result.date"
                        />
                    <br/>
                    <button 
                        type="button" 
                        class="btn btn-primary btn-block"
                        ng-click="addTestResult(model.test_result)"
                        ng-model="add">
                        Add Test Results
                    </button>
                </div>	
            </form>
        </div>
    </div>
   
    <!--
    <div class="col-lg-6 col-sm-12">
        <div class="panel panel-default">
            <div class="panel-heading">Chart Data</div>
            <div class="panel-body">
                <table class="table table-responsive table-condensed table-striped">
                    <tr>
                      <th ng-repeat="label in labels">
                      </th>
                    </tr
                    <tr ng-repeat="dataSet in model.data">
                      <td ng-repeat="set in dataSet track by $index"><span style="text-align: right;">{{model.data[$parent.$index][$index]}}</span></td>
                    </tr>
                </table>
                <button type="button" class="btn btn-primary pull-right" ng-click="randomize()">Randomize</button>
            </div>
        </div>
    </div>
    -->

    <div ng-class="view.getChartClass()">
        <div class="panel panel-default" >
            <div class="panel-heading"><b>Previous Blood Work</b></div>
            <div class="panel-body">
                <canvas id="tables" 
                    height="230"
                    class="chart chart-line" 
                    chart-data="model.data"
                    chart-labels="labels" 
                    chart-colours="colours" 
                    chart-legend="true" 
                    chart-series="series">
                </canvas>
            </div>
        </div>
    </div>
</div>
